# Ampairs Application Configuration
# This configuration serves as the development environment by default
# Use environment variables to override settings for production deployment
# Example: export OTP_DEV_MODE=false for production

# SpringDoc OpenAPI Configuration
springdoc:
  api-docs:
    path: /api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui
    enabled: true
    operationsSorter: alpha
    tagsSorter: alpha
    displayRequestDuration: true
    displayOperationId: false
    showExtensions: true
    showCommonExtensions: true
    defaultModelsExpandDepth: 1
    defaultModelRendering: example
    docExpansion: none
    filter: false
    maxDisplayedTags: 20
  show-actuator: false
  group-configs:
    - group: 'public'
      displayName: 'Public APIs'
      pathsToMatch:
        - '/auth/v1/**'
        - '/workspace/v1'
        - '/workspace/v1/check-slug/**'
        - '/workspace/v1/search/**'
    - group: 'workspace'
      displayName: 'Workspace Management'
      pathsToMatch:
        - '/workspace/v1/**'
    - group: 'modules'
      displayName: 'Module Management'
      pathsToMatch:
        - '/workspace/v1/modules/**'
    - group: 'business'
      displayName: 'Business Operations'
      pathsToMatch:
        - '/customer/v1/**'
        - '/product/v1/**'
        - '/order/v1/**'
        - '/invoice/v1/**'

# WebSocket & Real-time Messaging Configuration
websocket:
  message-broker:
    # Message Broker Type:
    # - SIMPLE: In-memory broker (single instance, no external dependencies)
    # - RABBITMQ: External RabbitMQ STOMP relay (multi-instance, production)
    # - AUTO: Auto-detect RabbitMQ, fallback to SIMPLE if unavailable (recommended)
    type: ${WEBSOCKET_BROKER_TYPE:RABBITMQ}

    # Heartbeat interval for SimpleBroker STOMP protocol heartbeats (milliseconds)
    # IMPORTANT: SimpleBroker has limited STOMP heartbeat support - set to 0 to disable
    # We rely on application-level heartbeats via /app/heartbeat instead
    # RabbitMQ broker properly supports STOMP heartbeats and will use this value
    # Default: 0 (disabled for SimpleBroker, works with RabbitMQ)
    heartbeat-interval: ${WEBSOCKET_HEARTBEAT_INTERVAL:15000}

    # RabbitMQ STOMP Relay Configuration (only used when type=RABBITMQ or AUTO)
    rabbitmq:
      host: ${RABBITMQ_HOST:localhost}
      port: ${RABBITMQ_STOMP_PORT:61613}  # STOMP port, not AMQP port (5672)
      username: ${RABBITMQ_USER:admin}
      password: ${RABBITMQ_PASSWORD:Om@711590}
      virtual-host: ${RABBITMQ_VHOST:/}
      connection-timeout: ${RABBITMQ_CONNECTION_TIMEOUT:500}  # milliseconds for availability probe

server:
  compression:
    enabled: true
  tomcat:
    max-connections: 50
    accesslog:
      enabled: true
      pattern: "%h %l %u %t %r %s %b %D %{Referer}i %{User-Agent}i %{Request-Source}i"
      prefix: access_log
      suffix: .log
      file-date-format: .yyyy-MM-dd
      rotate: true
      renameOnRotate: true
      max-days: 10
      directory: logs
    threads:
      max: 50
      min-spare: 10
    accept-count: 50
    connection-timeout: 30000
  port: 8081
logging:
  logback:
    rollingpolicy:
      max-history: 7
      max-file-size: 1000MB
  file:
    path: /var/log/ampairs/
    name: ${logging.file.path}sandbox.log
  level:
    com.ampairs: ${LOG_LEVEL_AMPAIRS:INFO}
    org.springframework.web: ${LOG_LEVEL_SPRING_WEB:INFO}
    org.springframework.security: ${LOG_LEVEL_SPRING_SECURITY:INFO}
    org.hibernate.SQL: ${LOG_LEVEL_HIBERNATE_SQL:INFO}
    org.hibernate.type.descriptor.sql.BasicBinder: ${LOG_LEVEL_HIBERNATE_BINDER:INFO}
    # Security audit loggers
    SECURITY_AUDIT: ${LOG_LEVEL_SECURITY_AUDIT:INFO}
    AUTH_EVENTS: ${LOG_LEVEL_AUTH_EVENTS:INFO}
    RATE_LIMIT_EVENTS: ${LOG_LEVEL_RATE_LIMIT_EVENTS:WARN}
    ACCESS_EVENTS: ${LOG_LEVEL_ACCESS_EVENTS:WARN}
  pattern:
    file: "%highlight(%-5level) [%date] [%thread] [%X{traceId:-}] [%cyan(%logger{0})] : %message%n"
    console: "%highlight(%-5level) [%date{HH:mm:ss.SSS}] [%thread] [%cyan(%logger{36})]: %message%n"

spring:
  threads:
    virtual:
      enabled: ${SPRING_VIRTUAL_THREADS_ENABLED:true}
  jackson:
    property-naming-strategy: SNAKE_CASE
    time-zone: UTC  # Serialize all timestamps in UTC timezone (ISO-8601 with Z suffix)
    serialization:
      write-dates-as-timestamps: false
    deserialization:
      fail-on-unknown-properties: false
  cache:
    type: caffeine
    caffeine:
      spec: maximumSize=1000,expireAfterAccess=${CACHE_EXPIRE_AFTER_ACCESS:300s},recordStats  # 5 minutes for development
    cache-names: userDetails
    cache-specs:
      userDetails: maximumSize=1000,expireAfterWrite=${CACHE_USER_DETAILS_EXPIRE:300s},recordStats
  datasource:
    url: ${DB_URL:jdbc:postgresql://10.0.0.12:5432/ampairs_sandbox}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:d8jpkwZ3AdXmHjnG}
    driver-class-name: org.postgresql.Driver
    hikari:
      pool-name: main-db-pool
      maximum-pool-size: 20
      minimum-idle: 10
      connection-timeout: 20000
      idle-timeout: 60000
      max-lifetime: 300000
      validation-timeout: 5000
      leak-detection-threshold: 300000
  servlet:
    multipart:
      enabled: true
      max-file-size: ${MAX_FILE_SIZE:10MB}
      max-request-size: ${MAX_REQUEST_SIZE:15MB}
      location: ${TEMP_UPLOAD_DIR:${java.io.tmpdir}}
      resolve-lazily: false
  jpa:
    hibernate:
      naming:
        physical-strategy: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
      # IMPORTANT: Never use 'update' in production. Use Flyway for all DDL changes.
      # Options: validate (recommended for production), none (if you want to disable validation)
      ddl-auto: ${JPA_DDL_AUTO:validate}
    show-sql: ${JPA_SHOW_SQL:false}
    open-in-view: false
    properties:
      hibernate:
        default_schema: ${HIBERNATE_DEFAULT_SCHEMA:public}
        format_sql: ${JPA_FORMAT_SQL:true}
        use_sql_comments: ${JPA_USE_SQL_COMMENTS:true}
  # Flyway Database Migration Configuration
  flyway:
    enabled: ${FLYWAY_ENABLED:true}
    default-schema: ${FLYWAY_DEFAULT_SCHEMA:public}
    baseline-on-migrate: ${FLYWAY_BASELINE_ON_MIGRATE:true}
    baseline-version: ${FLYWAY_BASELINE_VERSION:1}
    validate-on-migrate: ${FLYWAY_VALIDATE_ON_MIGRATE:true}
    out-of-order: ${FLYWAY_OUT_OF_ORDER:true}
    # Vendor-specific locations: {vendor} is replaced with mysql or postgresql automatically
    locations: ${FLYWAY_LOCATIONS:classpath:db/migration/{vendor}}
    # User Configuration
    # The database user must have DDL permissions (CREATE, ALTER, DROP, etc.)
    # For MySQL: GRANT ALL ON database.* TO 'user'@'host';
    # For PostgreSQL: GRANT ALL PRIVILEGES ON DATABASE dbname TO user;
    user: ${FLYWAY_USER:${spring.datasource.username}}
    password: ${FLYWAY_PASSWORD:${spring.datasource.password}}
  # Spring Cloud AWS Auto-configuration
  cloud:
    aws:
      region:
        static: ${AWS_REGION:ap-south-1}
        auto: ${AWS_AUTO_REGION:true}
      credentials:
        access-key: ${AWS_ACCESS_KEY:AKIAVYWGJ7XHE7XMT34K}
        secret-key: ${AWS_SECRET_KEY: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}
        instance-profile: ${AWS_USE_IAM_ROLE:false}
        profile-name: ${AWS_PROFILE_NAME:}
        profile-path: ${AWS_PROFILE_PATH:}
      s3:
        region: ${AWS_S3_REGION:ap-south-1}
        endpoint: ${AWS_S3_ENDPOINT:}
        path-style-access-enabled: ${AWS_S3_PATH_STYLE:false}
        checksum-validation-enabled: ${AWS_S3_CHECKSUM_VALIDATION:true}
        chunked-encoding-disabled: ${AWS_S3_CHUNKED_ENCODING_DISABLED:false}
        accelerate-mode-enabled: ${AWS_S3_ACCELERATE_MODE:false}
        dualstack-enabled: ${AWS_S3_DUALSTACK:false}
      sns:
        region: ${AWS_SNS_REGION:}
        endpoint: ${AWS_SNS_ENDPOINT:}
      stack:
        auto: ${AWS_STACK_AUTO:false}
        name: ${AWS_STACK_NAME:}

# Application-specific AWS and Object Storage properties
ampairs:
  # Object Storage Configuration
  storage:
    # Storage provider: LOCAL, S3, or MINIO
    provider: ${STORAGE_PROVIDER:S3}
    default-bucket: ${STORAGE_BUCKET:ampairs-test}
    max-file-size: ${STORAGE_MAX_FILE_SIZE:10MB}
    allowed-content-types: ${STORAGE_ALLOWED_CONTENT_TYPES:image/jpeg,image/png,image/gif,image/webp,image/bmp,image/tiff}
    # Image-specific settings
    image:
      max-width: ${STORAGE_IMAGE_MAX_WIDTH:2048}
      max-height: ${STORAGE_IMAGE_MAX_HEIGHT:2048}
      quality: ${STORAGE_IMAGE_QUALITY:85}
      # Cache settings for image downloads
      cache-max-age: ${STORAGE_IMAGE_CACHE_MAX_AGE:86400} # 24 hours
      # Thumbnail settings
      thumbnails:
        enabled: ${STORAGE_THUMBNAILS_ENABLED:true}
        cache-enabled: ${STORAGE_THUMBNAILS_CACHE_ENABLED:true}
        cache-max-age: ${STORAGE_THUMBNAILS_CACHE_MAX_AGE:604800} # 7 days
        supported-sizes: ${STORAGE_THUMBNAILS_SIZES:150,300,500}
        default-size: ${STORAGE_THUMBNAILS_DEFAULT_SIZE:300}
        format: ${STORAGE_THUMBNAILS_FORMAT:jpg}
        auto-generate: ${STORAGE_THUMBNAILS_AUTO_GENERATE:false} # Generate on upload vs on-demand
  aws:
    s3:
      default-bucket: ${AWS_S3_BUCKET:ampairs-files}
      upload-folder: ${AWS_S3_UPLOAD_FOLDER:uploads}
      max-file-size: ${AWS_S3_MAX_FILE_SIZE:10MB}
      allowed-content-types: ${AWS_S3_ALLOWED_CONTENT_TYPES:image/jpeg,image/png,image/gif,image/webp,application/pdf,text/plain,application/json}
    sns:
      enabled: ${AWS_SNS_ENABLED:false}
      default-sender-id: ${AWS_SNS_SENDER_ID:AMPAIR}
      sms-type: ${AWS_SNS_SMS_TYPE:Transactional}
  # Local Filesystem Configuration (for development/testing)
  local:
    enabled: ${LOCAL_STORAGE_ENABLED:false}
    base-path: ${LOCAL_STORAGE_PATH:./storage}
    create-directories: ${LOCAL_STORAGE_CREATE_DIRS:true}
    url-base: ${LOCAL_STORAGE_URL_BASE:http://localhost:8080/files}
  # MinIO Configuration
  minio:
    enabled: ${MINIO_ENABLED:false}
    endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
    access-key: ${MINIO_ACCESS_KEY:minioadmin}
    secret-key: ${MINIO_SECRET_KEY:minioadmin}
    default-bucket: ${MINIO_BUCKET:ampairs-files}
    auto-create-bucket: ${MINIO_AUTO_CREATE_BUCKET:true}
    # MinIO-specific settings
    connection-timeout: ${MINIO_CONNECTION_TIMEOUT:PT10S}
    read-timeout: ${MINIO_READ_TIMEOUT:PT30S}
# bucket4j configuration removed - using custom comprehensive rate limiting service instead

application:
  auth:
    otp:
      development-mode: ${OTP_DEV_MODE:true}
      hardcoded-otp: ${OTP_HARDCODED_VALUE:123456}
      allow-hardcoded: ${OTP_ALLOW_HARDCODED:true}
  security:
    jwt:
      secret-key: ${JWT_SECRET_KEY:404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970}
      expiration: ${JWT_EXPIRATION:PT24H} # 24 hours
      refresh-token:
        expiration: ${JWT_REFRESH_EXPIRATION:P180D} # 180 days
      key-rotation:
        enabled: ${JWT_KEY_ROTATION_ENABLED:true}
        rotation-interval: ${JWT_KEY_ROTATION_INTERVAL:P30D} # 30 days
        key-lifetime: ${JWT_KEY_LIFETIME:P90D} # 90 days
        scheduled-rotation: ${JWT_SCHEDULED_ROTATION:true}
        rotation-cron: ${JWT_ROTATION_CRON:0 0 2 1 * ?} # Monthly at 2 AM on 1st day
    cors:
      allowed-origins: ${CORS_ALLOWED_ORIGINS:https://app.ampairs.in,https://www.ampairs.in,http://localhost:4200,http://localhost:3000,http://127.0.0.1:4200,http://127.0.0.1:3000}
      allowed-methods: ${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS,PATCH}
      allowed-headers: ${CORS_ALLOWED_HEADERS:*}
      allow-credentials: ${CORS_ALLOW_CREDENTIALS:true}
      max-age: ${CORS_MAX_AGE:PT1H}
    token-cleanup:
      enabled: ${TOKEN_CLEANUP_ENABLED:true}
      cron: ${TOKEN_CLEANUP_CRON:0 0 2 * * ?} # Daily at 2 AM
      batch-size: ${TOKEN_CLEANUP_BATCH_SIZE:100} # Process tokens in batches
    session-management:
      # Session timeout settings
      device-session-timeout: ${DEVICE_SESSION_TIMEOUT:P7D} # 7 days default
      idle-session-timeout: ${IDLE_SESSION_TIMEOUT:PT24H} # 24 hours of inactivity
      # Concurrent session limits
      max-concurrent-sessions-per-user: ${MAX_CONCURRENT_SESSIONS:10} # Max 10 devices per user
      max-concurrent-sessions-per-device-type: ${MAX_CONCURRENT_SESSIONS_PER_TYPE:3} # Max 3 sessions per device type
      # Session cleanup settings
      expired-session-cleanup:
        enabled: ${SESSION_CLEANUP_ENABLED:true}
        cron: ${SESSION_CLEANUP_CRON:0 */30 * * * ?} # Every 30 minutes
        batch-size: ${SESSION_CLEANUP_BATCH_SIZE:100}
    # Soft account lockout - designed for business apps, not banking
    account-lockout:
      enabled: ${ACCOUNT_LOCKOUT_ENABLED:true}
      # Soft thresholds - not too aggressive for business users
      max-failed-attempts: ${LOCKOUT_MAX_FAILED_ATTEMPTS:8} # Allow 8 failed attempts
      lockout-duration: ${LOCKOUT_DURATION:PT15M} # Lock for 15 minutes (soft)
      failure-window: ${LOCKOUT_FAILURE_WINDOW:PT30M} # Count failures in 30min window
      # Progressive lockout - increases with repeated lockouts
      progressive-lockout:
        enabled: ${PROGRESSIVE_LOCKOUT_ENABLED:true}
        # Multiplier for repeated lockouts within 24 hours
        duration-multiplier: ${LOCKOUT_DURATION_MULTIPLIER:2.0} # Double each time
        max-duration: ${LOCKOUT_MAX_DURATION:PT2H} # Max 2 hours lockout
        reset-period: ${LOCKOUT_RESET_PERIOD:PT24H} # Reset counter after 24h
      # Cleanup expired lockouts
      cleanup:
        enabled: ${LOCKOUT_CLEANUP_ENABLED:true}
        cron: ${LOCKOUT_CLEANUP_CRON:0 */10 * * * ?} # Every 10 minutes
        batch-size: ${LOCKOUT_CLEANUP_BATCH_SIZE:50}
    rate-limiting:
      enabled: ${RATE_LIMITING_ENABLED:true}
      auth:
        init:
          capacity: ${RATE_LIMIT_AUTH_INIT_CAPACITY:3}
          window-minutes: ${RATE_LIMIT_AUTH_INIT_WINDOW:5}
          burst-capacity: ${RATE_LIMIT_AUTH_INIT_BURST:1}
        verify:
          capacity: ${RATE_LIMIT_AUTH_VERIFY_CAPACITY:5}
          window-minutes: ${RATE_LIMIT_AUTH_VERIFY_WINDOW:5}
          burst-capacity: ${RATE_LIMIT_AUTH_VERIFY_BURST:2}
        refresh-token:
          capacity: ${RATE_LIMIT_AUTH_REFRESH_CAPACITY:10}
          window-minutes: ${RATE_LIMIT_AUTH_REFRESH_WINDOW:1}
          burst-capacity: ${RATE_LIMIT_AUTH_REFRESH_BURST:5}
        logout:
          capacity: ${RATE_LIMIT_AUTH_LOGOUT_CAPACITY:5}
          window-minutes: ${RATE_LIMIT_AUTH_LOGOUT_WINDOW:1}
          burst-capacity: ${RATE_LIMIT_AUTH_LOGOUT_BURST:3}
        device-management:
          capacity: ${RATE_LIMIT_AUTH_DEVICE_CAPACITY:10}
          window-minutes: ${RATE_LIMIT_AUTH_DEVICE_WINDOW:1}
          burst-capacity: ${RATE_LIMIT_AUTH_DEVICE_BURST:5}
      api:
        authenticated:
          capacity: ${RATE_LIMIT_API_AUTH_CAPACITY:100}
          window-minutes: ${RATE_LIMIT_API_AUTH_WINDOW:1}
          burst-capacity: ${RATE_LIMIT_API_AUTH_BURST:20}
        public:
          capacity: ${RATE_LIMIT_API_PUBLIC_CAPACITY:50}
          window-minutes: ${RATE_LIMIT_API_PUBLIC_WINDOW:1}
          burst-capacity: ${RATE_LIMIT_API_PUBLIC_BURST:10}
      global:
        per-ip:
          capacity: ${RATE_LIMIT_GLOBAL_IP_CAPACITY:200}
          window-minutes: ${RATE_LIMIT_GLOBAL_IP_WINDOW:1}
          burst-capacity: ${RATE_LIMIT_GLOBAL_IP_BURST:50}
        per-user:
          capacity: ${RATE_LIMIT_GLOBAL_USER_CAPACITY:150}
          window-minutes: ${RATE_LIMIT_GLOBAL_USER_WINDOW:1}
          burst-capacity: ${RATE_LIMIT_GLOBAL_USER_BURST:30}
  cache:
    default-ttl: ${CACHE_DEFAULT_TTL:PT30M}
    max-size: ${CACHE_MAX_SIZE:10000}
    rate-limit-cache:
      expire-after-access: ${CACHE_RATE_LIMIT_EXPIRE:PT15M}
      maximum-size: ${CACHE_RATE_LIMIT_MAX_SIZE:10000}
  integration:
    tally:
      base-url: ${TALLY_BASE_URL:http://localhost:9000}
      connection-timeout: ${TALLY_CONNECTION_TIMEOUT:PT30S}
      read-timeout: ${TALLY_READ_TIMEOUT:PT2M}
      retry-attempts: ${TALLY_RETRY_ATTEMPTS:3}
      retry-delay: ${TALLY_RETRY_DELAY:PT5S}
      sync:
        customers:
          enabled: ${TALLY_SYNC_CUSTOMERS_ENABLED:true}
          cron-expression: ${TALLY_SYNC_CUSTOMERS_CRON:0 0 * * * *}
          batch-size: ${TALLY_SYNC_CUSTOMERS_BATCH_SIZE:100}
        products:
          enabled: ${TALLY_SYNC_PRODUCTS_ENABLED:true}
          cron-expression: ${TALLY_SYNC_PRODUCTS_CRON:0 0 * * * *}
          batch-size: ${TALLY_SYNC_PRODUCTS_BATCH_SIZE:100}
    notifications:
      email:
        enabled: ${NOTIFICATIONS_EMAIL_ENABLED:false}
        from: ${NOTIFICATIONS_EMAIL_FROM:noreply@ampairs.com}
      sms:
        enabled: ${NOTIFICATIONS_SMS_ENABLED:true}
        provider: ${NOTIFICATIONS_SMS_PROVIDER:aws-sns}
debug: ${DEBUG_MODE:false}

# Google reCAPTCHA v3 Configuration
google:
  recaptcha:
    enabled: ${RECAPTCHA_ENABLED:true}
    secret-key: ${RECAPTCHA_SECRET_KEY:6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe}  # Test secret key for development
    site-key: ${RECAPTCHA_SITE_KEY:6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI}    # Reference only - used by frontend
    verify-url: ${RECAPTCHA_VERIFY_URL:https://www.google.com/recaptcha/api/siteverify}
    min-score: ${RECAPTCHA_MIN_SCORE:0.7}
    timeout-ms: ${RECAPTCHA_TIMEOUT_MS:5000}
    actions:
      login: ${RECAPTCHA_ACTION_LOGIN:login}
      verify-otp: ${RECAPTCHA_ACTION_VERIFY_OTP:verify_otp}
      resend-otp: ${RECAPTCHA_ACTION_RESEND_OTP:resend_otp}
    # Development token configuration
    development:
      enabled: ${RECAPTCHA_DEV_MODE_ENABLED:true}
      tokenPatterns: ${RECAPTCHA_DEV_TOKEN_PATTERNS:dev-dummy-token-*,test-token-*,local-test-*}
    # IP whitelist configuration
    whitelist:
      enabled: ${RECAPTCHA_WHITELIST_ENABLED:true}
      ipAddresses: ${RECAPTCHA_WHITELIST_IPS:127.0.0.1,::1,192.168.1.*,10.0.0.*}
      validateWithGoogle: ${RECAPTCHA_WHITELIST_VALIDATE_WITH_GOOGLE:false}

# Firebase Configuration
firebase:
  enabled: ${FIREBASE_ENABLED:true}
  service-account-key-path: ${FIREBASE_SERVICE_ACCOUNT_KEY_PATH:keys/ampairs-firebase-adminsdk.json}

# Notification Configuration
notification:
  # Batch processing settings
  batch-size: ${NOTIFICATION_BATCH_SIZE:10}
  retry-delay-minutes: ${NOTIFICATION_RETRY_DELAY_MINUTES:5}
  cleanup-days: ${NOTIFICATION_CLEANUP_DAYS:30}

  # Parallel processing settings
  parallel-threads: ${NOTIFICATION_PARALLEL_THREADS:5}
  thread-pool:
    queue-capacity: ${NOTIFICATION_THREAD_POOL_QUEUE_CAPACITY:100}
    keep-alive-seconds: ${NOTIFICATION_THREAD_POOL_KEEP_ALIVE_SECONDS:60}

  # SMS Configuration
  sms:
    # Primary SMS provider (MSG91 or AWS_SNS)
    primary-provider: ${SMS_PRIMARY_PROVIDER:MSG91}

    # SMS Template Configuration
    sender-name: ${SMS_SENDER_NAME:AMPAIR}
    app-name: ${SMS_APP_NAME:Ampairs}
    support-url: ${SMS_SUPPORT_URL:https://ampairs.com/support}

    # MSG91 Configuration
    msg91:
      enabled: ${SMS_MSG91_ENABLED:true}
      auth-key: ${MSG91_AUTH_KEY:}
      template-id: ${MSG91_TEMPLATE_ID:}
      sender-id: ${MSG91_SENDER_ID:AMPAIR}
      api-url: ${MSG91_API_URL:https://control.msg91.com/api/v5/otp}
      use-template: ${MSG91_USE_TEMPLATE:false}

    # AWS SNS Configuration (references aws.sns section above)
    aws-sns:
      enabled: ${SMS_AWS_SNS_ENABLED:true}

  # Email Configuration (future)
  email:
    enabled: ${EMAIL_ENABLED:false}
    primary-provider: ${EMAIL_PRIMARY_PROVIDER:SMTP}

  # WhatsApp Configuration (future)
  whatsapp:
    enabled: ${WHATSAPP_ENABLED:false}
    primary-provider: ${WHATSAPP_PRIMARY_PROVIDER:TWILIO}

# Spring Boot Management Endpoints
management:
  endpoints:
    web:
      exposure:
        include: ${MANAGEMENT_ENDPOINTS_INCLUDE:health,info,env,metrics,caches}
  endpoint:
    health:
      show-details: ${MANAGEMENT_HEALTH_SHOW_DETAILS:when_authorized}
    env:
      show-values: ${MANAGEMENT_ENV_SHOW_VALUES:when_authorized}
